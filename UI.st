WAComponent subclass: #ConcederAcceso	instanceVariableNames: 'username contraseña'	classVariableNames: ''	package: 'CuOOra-UI'!!ConcederAcceso methodsFor: 'accessing' stamp: 'donn1 4/6/2020 21:05'!model 	^ CuOOra soleInstance ! !!ConcederAcceso methodsFor: 'accessing' stamp: 'donn1 4/6/2020 21:08'!contraseña	^contraseña! !!ConcederAcceso methodsFor: 'accessing' stamp: 'donn1 4/6/2020 21:09'!username: anObject 	username:=anObject! !!ConcederAcceso methodsFor: 'accessing' stamp: 'donn1 4/6/2020 21:08'!username	^username! !!ConcederAcceso methodsFor: 'accessing' stamp: 'donn1 4/6/2020 21:09'!contraseña:anObject	contraseña :=anObject! !!ConcederAcceso methodsFor: 'accessing - private' stamp: 'donn1 4/6/2020 21:15'!proceedWith: aUser	self session user: aUser.	self call: (HomeComponent usuario:aUser cuoora:(CuOOra new))! !!ConcederAcceso methodsFor: 'rendering' stamp: 'donn1 4/6/2020 21:11'!renderInputElementsOn: aCanvas	aCanvas label: 'Username'.	aCanvas paragraph: [ aCanvas textInput on: #username of: self ].	aCanvas label: 'Contraseña'.	aCanvas paragraph: [ aCanvas passwordInput on: #contraseña of: self ]! !!ConcederAcceso methodsFor: 'rendering' stamp: 'donn1 4/6/2020 21:12'!renderButtonsOn: aCanvas	self subclassResponsibility! !!ConcederAcceso methodsFor: 'rendering' stamp: 'donn1 4/6/2020 21:25'!renderContentOn:aCanvas	aCanvas form: [ 		self renderInputElementsOn: aCanvas.		self renderButtonsOn: aCanvas ]! !WAComponent subclass: #HomeComponent	instanceVariableNames: 'cuoora newPregunta newRespuesta usuario newTextoRta pregunta'	classVariableNames: ''	package: 'CuOOra-UI'!!HomeComponent methodsFor: 'setter' stamp: 'ValentinColato 4/4/2020 23:55'!usuario: unUsuario cuoora:unCuoorausuario:=unUsuario .cuoora:=unCuoora.! !!HomeComponent methodsFor: 'callbacks' stamp: 'ValentinColato 4/5/2020 15:19'!volverself answer ! !!HomeComponent methodsFor: 'callbacks' stamp: 'ValentinColato 4/5/2020 18:54'!dislike:unaPregunta			unaPregunta agregarVoto: (Voto like: false usuario: usuario ).		! !!HomeComponent methodsFor: 'callbacks' stamp: 'ValentinColato 4/5/2020 14:47'!responderPregunta: unaPregunta	self call:(ResponderComponent usuario: usuario pregunta:unaPregunta  cuoora:cuoora )! !!HomeComponent methodsFor: 'callbacks' stamp: 'ValentinColato 4/5/2020 18:54'!like:unaPregunta			unaPregunta agregarVoto: (Voto like: true usuario: usuario ).		! !!HomeComponent methodsFor: 'rendering' stamp: 'ValentinColato 4/5/2020 19:24'!renderContentOn: aCanvas	aCanvas heading:[aCanvas tableRow:[							aCanvas tableData: 'CuOOra' . aCanvas tableData align: 'left'.							aCanvas space.							aCanvas tableData:[								aCanvas anchor									callback: [ self volver ];									with: 'Logout'].								aCanvas space.								aCanvas strong:(usuario nombre). aCanvas tableData align:'right']].	aCanvas space.	aCanvas		unorderedList: [ (cuoora obtenerPregFechaHora:usuario)							do: [ :each | 					aCanvas listItem: [ aCanvas anchor								with: [aCanvas text: each titulo.										aCanvas anchor 											callback: [self responderPregunta:each]; 											with:'Responder'.										   aCanvas text: each descripcion.										aCanvas space.										aCanvas text: each likes . aCanvas anchor callback:[self like:each]; with:'Like'.										aCanvas space.										aCanvas text: each dislikes. aCanvas anchor callback:[self dislike:each]; with:'Dislike' .										"										aCanvas text: each mejorRespuesta texto"										]]								]							].! !!HomeComponent methodsFor: 'initialize' stamp: 'ValentinColato 4/4/2020 23:51'!edit: unUsuario	self call: (LoginComponent  usuario:unUsuario).! !!HomeComponent methodsFor: 'initialize' stamp: 'ValentinColato 4/5/2020 14:37'!initialize	super initialize .	! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!HomeComponent class	instanceVariableNames: ''!!HomeComponent class methodsFor: 'initialize' stamp: 'ValentinColato 4/4/2020 23:56'!usuario: unUsuario cuoora:unCuoora^ self new usuario: unUsuario cuoora:unCuoora! !ConcederAcceso subclass: #LoginComponent	instanceVariableNames: ''	classVariableNames: ''	package: 'CuOOra-UI'!!LoginComponent methodsFor: 'as yet unclassified' stamp: 'donn1 4/6/2020 21:19'!registrarNuevoUsuario	self call: RegisterComponent new! !!LoginComponent methodsFor: 'callback' stamp: 'donn1 4/6/2020 21:27'!acceder		(self model buscarUsuario: username contraseña: contraseña)		ifNotNil: [ :it | self proceedWith: it ].		username := nil.	contraseña := nil! !!LoginComponent methodsFor: 'rendering' stamp: 'donn1 4/6/2020 21:18'!renderButtonsOn: aCanvas		self renderSignInButtonOn: aCanvas.	aCanvas horizontalRule.	aCanvas paragraph: 'No tiene una cuenta?'.	self renderSignUpButtonOn: aCanvas! !!LoginComponent methodsFor: 'rendering' stamp: 'donn1 4/6/2020 21:18'!renderSignInButtonOn: aCanvas	aCanvas submitButton		callback: [ self acceder ];		with: 'Iniciar Sesión'! !!LoginComponent methodsFor: 'rendering' stamp: 'donn1 4/6/2020 21:19'!renderSignUpButtonOn: aCanvas	aCanvas submitButton		callback: [ self registrarNuevoUsuario ];		with: 'Registrate!! es gratis!!'! !ConcederAcceso subclass: #RegisterComponent	instanceVariableNames: ''	classVariableNames: ''	package: 'CuOOra-UI'!!RegisterComponent methodsFor: 'rendering' stamp: 'donn1 4/6/2020 21:35'!registerAndLogin	| theUser |	theUser := Usuario nombre: username contraseña: contraseña.	self model addUser:theUser.	self proceedWith: theUser.! !!RegisterComponent methodsFor: 'rendering' stamp: 'donn1 4/6/2020 21:36'!renderInputElementsOn: aCanvas 		aCanvas label:'Username'.	aCanvas paragraph:[aCanvas textInput on: #username of: self ] .	super renderInputElementsOn: aCanvas! !!RegisterComponent methodsFor: 'rendering' stamp: 'donn1 4/6/2020 21:37'!renderSignUpButtonOn: aCanvas	aCanvas submitButton 		callback: [ self registerAndLogin  ];		with:'Register'! !!RegisterComponent methodsFor: 'rendering' stamp: 'donn1 4/6/2020 21:43'!renderButtonsOn: aCanvas	self renderSignUpButtonOn: aCanvas! !WAComponent subclass: #ResponderComponent	instanceVariableNames: 'cuoora usuario pregunta newTextoRta'	classVariableNames: ''	package: 'CuOOra-UI'!!ResponderComponent methodsFor: 'initialization' stamp: 'ValentinColato 4/5/2020 18:44'!initialize super initialize .! !!ResponderComponent methodsFor: 'rendering' stamp: 'ValentinColato 4/5/2020 19:08'!renderContentOn: aCanvas	aCanvas heading:[aCanvas tableRow:[							aCanvas tableData: 'CuOOra' . aCanvas tableData align: 'left'.							aCanvas space.							aCanvas tableData:[								aCanvas anchor									callback: [ self volver ];									with: 'Logout'].								aCanvas space.								aCanvas strong:(usuario nombre). aCanvas tableData align:'right']].			aCanvas label: pregunta titulo.		aCanvas form: [ 	aCanvas				paragraph: [ aCanvas label: ''.					aCanvas textInput on: #newTextoRta of: self ].			aCanvas button				callback: [ self responder ];				with: 'Responder'.			aCanvas space.	]	! !!ResponderComponent methodsFor: 'callback' stamp: 'ValentinColato 4/5/2020 14:42'!volver	self call:(HomeComponent usuario: usuario cuoora: cuoora)! !!ResponderComponent methodsFor: 'setter' stamp: 'ValentinColato 4/5/2020 18:19'!newTextoRta:unNewTextoRtanewTextoRta:=unNewTextoRta .! !!ResponderComponent methodsFor: 'setter' stamp: 'ValentinColato 4/5/2020 14:45'!usuario:unUsuario pregunta:unaPregunta cuoora:unCuoora	usuario:=unUsuario .	pregunta:=unaPregunta.	cuoora :=unCuoora! !!ResponderComponent methodsFor: 'acccessing' stamp: 'ValentinColato 4/5/2020 14:54'!responder	|rta|	rta:= Respuesta usuario: usuario texto: newTextoRta.	cuoora gestionarRta: rta p: pregunta u: usuario.				self volver.! !!ResponderComponent methodsFor: 'acccessing' stamp: 'ValentinColato 4/5/2020 14:53'!newTextoRta^newTextoRta! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!ResponderComponent class	instanceVariableNames: ''!!ResponderComponent class methodsFor: 'constructor' stamp: 'ValentinColato 4/5/2020 14:49'!usuario:unUsuario pregunta:unaPregunta cuoora:unCuoora	^self new usuario:unUsuario pregunta:unaPregunta cuoora:unCuoora! !